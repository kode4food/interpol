<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A Guide to Interpol</title>
  <link href='//fonts.googleapis.com/css?family=Roboto:400,400italic,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/wide.css">

</head>
<body>
  <div class="container">
    <h1>
      <a href="./">A Guide to Interpol</a>
    </h1>
  </div>
  <div class="container">
    <h2 id="logical-branching">Logical Branching</h2>

<h3 id="if-/-unless-/else">if / unless /else</h3>

<p>Like in most programming languages, Interpol supports conditional branching in the form of If/Else statements.  The expression provided to <code>if</code> is evaluated using Interpol&#39;s <em>truthy</em> rules.  In its simplest form, it wouldn&#39;t include an <code>else</code> block and might look like this:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;Curly&#39;</span>
  <span class="s2">&quot;Curly was awesome!&quot;</span>
<span class="k">end</span>
</code></pre></div>
<p>If the condition is not met, you can also branch to an <code>else</code> block:</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;Curly&#39;</span>
  <span class="s2">&quot;Curly was awesome!&quot;</span>
<span class="k">else</span>
  <span class="s2">&quot;This stooge was not so great&quot;</span>
<span class="k">end</span>
</code></pre></div>
<p><code>else</code> immediately followed by <code>if</code> is treated specially in that it doesn&#39;t require a nested <code>end</code> keyword.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;Curly&#39;</span>
  <span class="s2">&quot;Curly was awesome!&quot;</span>
<span class="k">else</span> <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;Shemp&#39;</span>
  <span class="s2">&quot;Ok, Shemp was alright&quot;</span>
<span class="k">else</span>
  <span class="s2">&quot;This stooge was not so great&quot;</span>
<span class="k">end</span>
</code></pre></div>
<p><em>Note:</em> The <code>unless</code> keyword is syntactic sugar that can be used in place of <code>if not</code>.  Its purpose is to implicitly negate the condition.  So <code>if not happy</code> becomes <code>unless happy</code>.</p>

<h3 id="conditionals">Conditionals</h3>

<p>The conditional or ternary operator works just as you would expect from Python.  It will evaluate the first operand if the condition is met (or not met in the case of <code>unless</code>), otherwise it will return the evaluation of the third operand.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># &lt;true_value&gt; if &lt;condition&gt; else &lt;false_value&gt;</span>
<span class="s2">&quot;you are happy!&quot;</span> <span class="k">if</span> <span class="n">happy</span> <span class="k">else</span> <span class="s2">&quot;awwwwwww&quot;</span>

<span class="c1"># &lt;false_value&gt; unless &lt;condition&gt; else &lt;true_value&gt;</span>
<span class="s2">&quot;awwwwwww&quot;</span> <span class="k">unless</span> <span class="n">happy</span> <span class="k">else</span> <span class="s2">&quot;you are happy!&quot;</span>
</code></pre></div>
<h3 id="truthy-and-falsy">Truthy and Falsy</h3>

<p>Interpol conditionals always test whether an expression is &#39;truthy&#39; or &#39;falsy&#39;.  So you don&#39;t generally have to compare expressions directly to <code>true</code> or <code>false</code>.  In fact, you should only do so if you&#39;re expecting the actual value, as Interpol&#39;s equality operators are rather strict.</p>

<p>In Interpol &#39;truthy&#39; is any value that matches the following criteria:</p>

<ul>
<li>Vectors with at least one element</li>
<li>Strings with at least one character</li>
<li>The boolean &#39;true&#39;</li>
<li>Non-Zero Numbers</li>
<li>Dictionaries</li>
</ul>

<p>Falsy is any value that is not &#39;truthy&#39;.</p>

<h3 id="boolean-operators-(or,-and)">Boolean Operators (or, and)</h3>

<p>This concept of &#39;truthy&#39; also applies to the Boolean Operators.</p>

<h4 id="or">Or</h4>

<p>In boolean logic, the <code>or</code> operator basically states that one or the other operand must be true.  In Interpol, it&#39;s implemented by testing the left operand for &#39;truthiness&#39;.  If it matches, then it will be returned.  Otherwise the right operand will be returned.</p>

<h4 id="and">And</h4>

<p>In boolean logic, the <code>and</code> operator basically states that both operands must be true.  In Interpol, it&#39;s implemented by testing the left operand for &#39;truthiness&#39;.  If it matches, then the right operand will be returned.  Otherwise the left operand will be returned.</p>

<h3 id="equality-operators-(==,-!=,-like)">Equality Operators (==, !=, like)</h3>

<p>The <code>==</code> and <code>!=</code> operators perform strict equality checking, identical to JavaScript&#39;s <code>===</code> and <code>!==</code> operators.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="mi">1</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span>  <span class="c1"># results in false</span>
<span class="mi">1</span> <span class="o">!=</span> <span class="s1">&#39;1&#39;</span>  <span class="c1"># results in true</span>
</code></pre></div>
<h4 id="like">Like</h4>

<p>The <code>like</code> operator is a little different.  Like will perform a deep comparison of values to determine whether the left operand is &#39;compatible&#39; with the template on the right.</p>

<p>Compatibility is mostly as you would expect, with one exception.  If the template contains a dictionary, only the properties defined in that dictionary are checked.  If the left operand has additional properties, those are ignored.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">let</span> <span class="n">myObject</span> <span class="o">=</span> <span class="o">[</span>
  <span class="nb">name</span> <span class="o">=</span> <span class="s1">&#39;Fred&#39;</span><span class="p">,</span>
  <span class="n">occupation</span> <span class="o">=</span> <span class="s1">&#39;developer&#39;</span><span class="p">,</span>
  <span class="n">age</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span>
  <span class="n">company</span> <span class="o">=</span> <span class="s1">&#39;ACME Software&#39;</span>
<span class="o">]</span>

<span class="k">if</span> <span class="n">myObject</span> <span class="n">like</span> <span class="o">[</span><span class="n">occupation</span><span class="o">=</span><span class="s1">&#39;developer&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">42</span><span class="o">]</span>
  <span class="s1">&#39;YEP!&#39;</span>
<span class="k">end</span>
</code></pre></div>
<h3 id="relational-operators-(lt,-lte,-gte,-gt)">Relational Operators (lt, lte, gte, gt)</h3>

<p>The relational operators are <code>lt</code> (less than), <code>le</code> (less than or equal), <code>gt</code> (greater than), and <code>ge</code> (greater than or equal).  Sorry, I would have allowed the traditional characters (<code>&lt;</code>, <code>&gt;</code> and so on) but the parser would have to be far more clever in order to deal with HTMLish Statements.</p>

  </div>
<div class="navigate">
  <span class="prev"><a href="04-interpolation.html">Previous Chapter</a></span>
  <span class="index"><a href="index.html">Table of Contents</a></span>
  <span class="next"><a href="06-looping.html">Next Chapter</a></span>
</div>


</body>
</html>
